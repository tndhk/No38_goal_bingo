dev_tasks:
  project: bingo_goal_app
  version: "1.0"
  date: "2026-01-16"
  mvp_target: "2026-01-31"

  # 技術基盤タスク（ストーリー横断）
  foundation:
    - id: FND001
      title: "プロジェクト初期設定"
      status: pending
      priority: 0
      tasks:
        - id: FND001-T1
          title: "技術選定（SvelteKit or Next.js）"
          status: pending
          estimate: 1h
          acceptance:
            - "フレームワーク決定と理由を文書化"
            - "プロジェクト初期化完了"

        - id: FND001-T2
          title: "ディレクトリ構成とコーディング規約"
          status: pending
          estimate: 1h
          depends_on: [FND001-T1]
          acceptance:
            - "src/配下の構成が決定"
            - "ESLint/Prettier設定"
            - "TypeScript設定"

        - id: FND001-T3
          title: "デザイントークン/テーマ設定"
          status: pending
          estimate: 1h
          depends_on: [FND001-T2]
          acceptance:
            - "colors, typography, spacingの定数化"
            - "Tailwind or CSS変数で実装"

        - id: FND001-T4
          title: "共通コンポーネント基盤"
          status: pending
          estimate: 2h
          depends_on: [FND001-T3]
          acceptance:
            - "Button, Modal, Dialog等の基礎コンポーネント"
            - "レスポンシブ対応確認"

  # Epic別ストーリー・タスク
  epics:
    # ========== EP001: ビンゴボード管理 ==========
    - id: EP001
      title: "ビンゴボード管理"
      stories:
        # ST001: 新しいビンゴボードを作成する
        - id: ST001
          title: "新しいビンゴボードを作成する"
          status: pending
          priority: 1
          solution: SL001
          screens: [SC001, SC004]
          tasks:
            - id: ST001-T1
              title: "BingoBoard型定義"
              status: pending
              estimate: 30m
              depends_on: [FND001-T2]
              acceptance:
                - "Board, Cell, Yearの型定義"
                - "9マスの位置enum（topLeft, topCenter, ...）"

            - id: ST001-T2
              title: "ビンゴボード状態管理"
              status: pending
              estimate: 1h
              depends_on: [ST001-T1]
              acceptance:
                - "boards配列の状態管理"
                - "currentBoardIdの管理"
                - "CRUD操作関数"

            - id: ST001-T3
              title: "BingoGridコンポーネント"
              status: pending
              estimate: 2h
              depends_on: [ST001-T1, FND001-T4]
              acceptance:
                - "3x3グリッドレイアウト"
                - "モバイル対応（タッチ操作）"
                - "マス要素のスタイリング"

            - id: ST001-T4
              title: "新規作成ボタンとフロー"
              status: pending
              estimate: 1h
              depends_on: [ST001-T2, ST001-T3]
              acceptance:
                - "新規作成ボタン表示"
                - "年度選択UI"
                - "ボード生成処理"

        # ST002: ビンゴボードを一覧で見る
        - id: ST002
          title: "ビンゴボードを一覧で見る"
          status: pending
          priority: 2
          solution: SL001
          screens: [SC004]
          tasks:
            - id: ST002-T1
              title: "BoardListコンポーネント"
              status: pending
              estimate: 1.5h
              depends_on: [ST001-T2]
              acceptance:
                - "年度順のボード一覧表示"
                - "各ボードの達成状況サマリー"
                - "タップで詳細画面遷移"

            - id: ST002-T2
              title: "/boardsルート実装"
              status: pending
              estimate: 1h
              depends_on: [ST002-T1]
              acceptance:
                - "ボード一覧ページ"
                - "ホーム画面との遷移"

        # ST003: 年度を切り替える
        - id: ST003
          title: "年度を切り替える"
          status: pending
          priority: 3
          solution: SL001
          screens: [SC001, SC004]
          tasks:
            - id: ST003-T1
              title: "YearSelectorコンポーネント"
              status: pending
              estimate: 1h
              depends_on: [ST001-T2]
              acceptance:
                - "ドロップダウンUI"
                - "年度リスト（過去〜未来）"
                - "選択時のボード切り替え"

            - id: ST003-T2
              title: "存在しない年度の処理"
              status: pending
              estimate: 30m
              depends_on: [ST003-T1, ST001-T4]
              acceptance:
                - "新規作成を促すUI"
                - "ワンタップで作成可能"

        # ST004: ビンゴボードを削除する
        - id: ST004
          title: "ビンゴボードを削除する"
          status: pending
          priority: 8
          solution: SL001
          screens: [SC001, SC005]
          tasks:
            - id: ST004-T1
              title: "削除確認ダイアログ"
              status: pending
              estimate: 1h
              depends_on: [FND001-T4]
              acceptance:
                - "確認メッセージ表示"
                - "削除/キャンセルボタン"
                - "誤操作防止"

            - id: ST004-T2
              title: "削除処理とリダイレクト"
              status: pending
              estimate: 30m
              depends_on: [ST004-T1, ST001-T2]
              acceptance:
                - "ボード削除処理"
                - "一覧画面へリダイレクト"
                - "ストレージからも削除"

    # ========== EP002: 目標管理 ==========
    - id: EP002
      title: "目標管理"
      stories:
        # ST005: マスに目標を入力する
        - id: ST005
          title: "マスに目標を入力する"
          status: pending
          priority: 4
          solution: SL001
          screens: [SC001, SC002]
          tasks:
            - id: ST005-T1
              title: "GoalInputModalコンポーネント"
              status: pending
              estimate: 1.5h
              depends_on: [FND001-T4, ST001-T3]
              acceptance:
                - "マス位置表示"
                - "テキスト入力（50文字制限）"
                - "保存/キャンセル/クリアボタン"

            - id: ST005-T2
              title: "マスタップ→モーダル表示"
              status: pending
              estimate: 30m
              depends_on: [ST005-T1]
              acceptance:
                - "タップイベント処理"
                - "モーダル開閉状態管理"

            - id: ST005-T3
              title: "目標保存処理"
              status: pending
              estimate: 30m
              depends_on: [ST005-T2, ST001-T2]
              acceptance:
                - "状態更新"
                - "マスに目標テキスト表示"

        # ST006: 目標を達成済みにする
        - id: ST006
          title: "目標を達成済みにする"
          status: pending
          priority: 5
          solution: SL001
          screens: [SC001]
          tasks:
            - id: ST006-T1
              title: "達成トグル機能"
              status: pending
              estimate: 1h
              depends_on: [ST005-T3]
              acceptance:
                - "長押しで達成/未達成切り替え"
                - "視覚的フィードバック"
                - "状態永続化"

            - id: ST006-T2
              title: "達成マスのスタイリング"
              status: pending
              estimate: 1h
              depends_on: [ST006-T1]
              acceptance:
                - "達成色（#10B981）適用"
                - "未達成色（#E5E7EB）適用"
                - "トランジションアニメーション"

        # ST007: 進捗を確認する
        - id: ST007
          title: "進捗を確認する"
          status: pending
          priority: 6
          solution: SL003
          screens: [SC001]
          tasks:
            - id: ST007-T1
              title: "進捗計算ロジック"
              status: pending
              estimate: 30m
              depends_on: [ST006-T1]
              acceptance:
                - "達成数カウント"
                - "達成率計算"
                - "ビンゴまでの残りマス判定"

            - id: ST007-T2
              title: "ProgressDisplayコンポーネント"
              status: pending
              estimate: 1h
              depends_on: [ST007-T1]
              acceptance:
                - "「5/9 達成」表示"
                - "達成率パーセント表示"
                - "「あと1マスでビンゴ！」ヒント"

    # ========== EP003: 達成演出 ==========
    - id: EP003
      title: "達成演出"
      stories:
        # ST008: ビンゴ達成でアニメーションを見る
        - id: ST008
          title: "ビンゴ達成でアニメーションを見る"
          status: pending
          priority: 7
          solution: SL002
          screens: [SC001, SC003]
          tasks:
            - id: ST008-T1
              title: "ビンゴ判定ロジック"
              status: pending
              estimate: 1h
              depends_on: [ST006-T1]
              acceptance:
                - "縦3列の判定"
                - "横3行の判定"
                - "斜め2本の判定"
                - "達成ライン配列を返す"

            - id: ST008-T2
              title: "ビンゴラインハイライト"
              status: pending
              estimate: 1h
              depends_on: [ST008-T1]
              acceptance:
                - "揃ったラインを強調表示（#FBBF24）"
                - "複数ライン同時対応"

            - id: ST008-T3
              title: "BingoCelebrationオーバーレイ"
              status: pending
              estimate: 2h
              depends_on: [ST008-T1]
              acceptance:
                - "「BINGO!」テキスト大きく表示"
                - "紙吹雪アニメーション"
                - "光るエフェクト"
                - "タップで閉じる"

        # ST009: 複数ビンゴの達成を見る
        - id: ST009
          title: "複数ビンゴの達成を見る"
          status: pending
          priority: 9
          solution: SL002
          screens: [SC003]
          tasks:
            - id: ST009-T1
              title: "複数ビンゴ表示"
              status: pending
              estimate: 1h
              depends_on: [ST008-T3]
              acceptance:
                - "「ダブルビンゴ達成！」等の表示"
                - "達成ライン数カウント表示"

            - id: ST009-T2
              title: "全マス達成（パーフェクト）演出"
              status: pending
              estimate: 1h
              depends_on: [ST009-T1]
              acceptance:
                - "9/9達成時の特別演出"
                - "「PERFECT!」表示"

    # ========== EP004: データ永続化 ==========
    - id: EP004
      title: "データ永続化"
      stories:
        # ST010: データを自動保存する
        - id: ST010
          title: "データを自動保存する"
          status: pending
          priority: 10
          solution: SL004
          screens: [SC001]
          tasks:
            - id: ST010-T1
              title: "LocalStorage永続化層"
              status: pending
              estimate: 1h
              depends_on: [ST001-T2]
              acceptance:
                - "保存/読み込み関数"
                - "JSON形式でのシリアライズ"
                - "エラーハンドリング"

            - id: ST010-T2
              title: "自動保存トリガー"
              status: pending
              estimate: 30m
              depends_on: [ST010-T1]
              acceptance:
                - "状態変更時の自動保存"
                - "デバウンス処理"

            - id: ST010-T3
              title: "保存状態インジケータ"
              status: pending
              estimate: 30m
              depends_on: [ST010-T2]
              acceptance:
                - "「保存中...」表示"
                - "「保存完了」表示"

  # 実装順序（依存関係考慮）
  implementation_order:
    phase_1:
      name: "基盤構築"
      tasks: [FND001-T1, FND001-T2, FND001-T3, FND001-T4]
      milestone: "開発環境Ready"

    phase_2:
      name: "コア機能（ボード+入力+保存）"
      tasks: [ST001-T1, ST001-T2, ST001-T3, ST001-T4, ST010-T1, ST010-T2, ST010-T3, ST005-T1, ST005-T2, ST005-T3]
      milestone: "目標入力・保存が動作"

    phase_3:
      name: "達成機能"
      tasks: [ST006-T1, ST006-T2, ST007-T1, ST007-T2]
      milestone: "達成マーク・進捗表示"

    phase_4:
      name: "ビンゴ演出"
      tasks: [ST008-T1, ST008-T2, ST008-T3, ST009-T1, ST009-T2]
      milestone: "ビンゴ達成体験完成"

    phase_5:
      name: "ボード管理"
      tasks: [ST002-T1, ST002-T2, ST003-T1, ST003-T2, ST004-T1, ST004-T2]
      milestone: "MVP完成"

  # サマリー
  summary:
    total_stories: 10
    total_tasks: 32
    estimated_total: "約25時間"
    critical_path: [FND001, ST001, ST005, ST006, ST008]
